{"version":3,"sources":["../lib/utils.js","../lib/dictionary.js","../lib/word.js","../lib/sentence.js","../lib/index.js","../node_modules/whatwg-fetch/fetch.js","../node_modules/process/browser.js","index.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["titleCaseWord","word","substring","toUpperCase","getTotalWeight","words","reduce","sum","weight","weightedRandom","total","selection","Math","random","id","uuid","module","exports","require","Dictionary","tags","excluded","possibles","filter","is","withoutExcluded","includes","number","length","Error","Word","text","every","tag","parts","split","line","lineNb","startsWith","replace","lineTags","lineText","weightStr","trim","Number","Sentence","dictionary","options","template","prevChosen","rets","chosen","part","choose","str","generate","push","sentence","join","debug","console","excludes","reformat","lowercasedWords","map","w","support","searchParams","self","iterable","Symbol","blob","Blob","e","formData","arrayBuffer","isDataView","obj","DataView","prototype","isPrototypeOf","viewClasses","isArrayBufferView","ArrayBuffer","isView","indexOf","Object","toString","call","normalizeName","name","String","test","TypeError","toLowerCase","normalizeValue","value","iteratorFor","items","iterator","next","shift","done","undefined","Headers","headers","forEach","append","Array","isArray","header","getOwnPropertyNames","oldValue","get","has","hasOwnProperty","set","callback","thisArg","keys","values","entries","consumed","body","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","onload","result","onerror","error","readBlobAsArrayBuffer","FileReader","promise","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","view","Uint8Array","chars","i","fromCharCode","bufferClone","slice","byteLength","buffer","Body","_initBody","_bodyInit","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","type","rejected","then","decode","json","JSON","parse","methods","normalizeMethod","method","upcased","Request","input","url","credentials","mode","signal","referrer","clone","form","bytes","decodeURIComponent","parseHeaders","rawHeaders","preProcessedHeaders","key","Response","bodyInit","status","ok","statusText","response","redirectStatuses","redirect","RangeError","location","DOMException","err","message","stack","create","constructor","fetch","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","getAllResponseHeaders","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","process","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","nextTick","args","arguments","Item","array","apply","title","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","window","loadDictionary","data","postRockDictonary","lines","index","parseLine","Boolean","dictName","exit","dict","loadBackgroundImage","redditPost","log","children","redditImage","redditPermalink","permalink","redditTitle","redditAuthor","author","$background","document","getElementById","style","backgroundImage","$redditLink","innerHTML","href","$redditAuthor","$redditContainer","img","Image","classList","add","src","$trackNameContainer","bundleURL","getBundleURLCached","getBundleURL","matches","match","getBaseURL","bundle","updateLink","link","newLink","cloneNode","remove","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","links","querySelectorAll","OVERLAY_ID","OldModule","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","event","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","overlay","createErrorOverlay","appendChild","createElement","stackTrace","innerText","getParents","modules","parents","k","d","dep","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"demo.e31bb0bc.js","sourceRoot":"../demo","sourcesContent":["function titleCaseWord(word) {\n  return `${word.substring(0, 1).toUpperCase()}${word.substring(1)}`;\n}\n\nfunction getTotalWeight(words) {\n  return words.reduce((sum, word) => sum + word.weight, 0.0);\n}  \n\nfunction weightedRandom(words) {\n  const total = getTotalWeight(words);\n\n  const selection = Math.random() * total;\n  let sum = 0;\n  for (const word of words) {\n    if (selection >= sum && selection < (sum + word.weight)) {\n      return word\n    }\n    sum += word.weight;\n  }\n}\n\nlet id = 0;\nfunction uuid() {\n  return id++;\n}\n\nmodule.exports.titleCaseWord = titleCaseWord;\nmodule.exports.weightedRandom = weightedRandom;\nmodule.exports.uuid = uuid;\n","const { weightedRandom } = require('./utils');\n\nclass Dictionary {\n  constructor(words) {\n    this.words = words;\n  }\n\n  filter(tags, excluded = []) {\n    const possibles = this.words.filter(word => word.is(tags));\n    const withoutExcluded = possibles.filter(word => !excluded.includes(word.number));\n\n    // Ensure exlusions does not reduce to no possibles\n    if (withoutExcluded.length) return withoutExcluded;\n    \n    return possibles;\n  }\n\n  choose(tags, excluded = []) {\n    const possibles = this.filter(tags, excluded);\n    if (!possibles.length) {\n      throw new Error(`cannot find any words for ${tags}`);\n    }\n\n    return weightedRandom(possibles);\n  }\n}\n\nmodule.exports = Dictionary;\n","const { uuid } = require('./utils');\n\nclass Word {\n  constructor(text, tags, weight, number) {\n    this.text = text || '';\n    this.tags = tags;\n    this.weight = weight || 1;\n    this.number = number || uuid();\n  }\n\n  static parseLine(line, lineNb) {\n    if (!line || line.startsWith('#')) return null;\n\n    const [lineTags, lineText, weightStr] = line.replace('\\\\,','%COMMA').split(',');\n\n    const tags = lineTags.trim().split('-');\n    const text = lineText.trim().replace('%COMMA', ',')\n    const weight = Number(weightStr) || 1;\n    const number = lineNb;\n\n    return new Word(text, tags, weight, number);\n  }\n\n  is(tags) {\n    return tags.every(tag => this.tags.includes(tag));\n  }\n\n  generate(tags) {\n    const parts = this.text.split(':');\n\n    if (tags.includes('NOU')) {\n      if (tags.includes('SNG')) {\n        return parts[0];\n      }\n      if (tags.includes('PLU')) {\n        return parts[1];\n      }\n      return parts[0];\n    }\n\n    if (tags.includes('VRB')) {\n      if (tags.includes('SNG')) {\n        return parts[1];\n      }\n      if (tags.includes('PST')) {\n        return parts[2];\n      }\n      if (tags.includes('PSP')) {\n        return parts[3];\n      }\n      if (tags.includes('ING')) {\n        return parts[4];\n      }\n\n      return parts[0];\n    }\n\n    return this.text;\n  }\n}\n\nmodule.exports = Word;\n","const { titleCaseWord } = require('./utils');\n\nclass Sentence {\n  constructor(dictionary, options = {}) {\n    this.dictionary = dictionary;\n    this.options = options || {};\n  }\n\n  generate(template = '%TPL', prevChosen = []) {\n    const parts = template.split(' ');\n    \n    const rets = [];\n    const chosen = [];\n    \n    for (const part of parts) {\n      if (part.startsWith('%')) {\n        const tags = part.substring(1).split('-');\n        const word = this.dictionary.choose(tags, [...prevChosen, ...chosen]);\n        const str = word.generate(tags);\n\n        chosen.push(word.number);\n        rets.push(str);\n      } else {\n        rets.push(part);\n      }\n    }\n\n    const sentence = rets.join(' ').replace(/\\s+/g, ' ');\n\n    if (this.options.debug) {\n      console.debug(template, '\\n  ->', sentence, `(chosen: ${chosen.join(',')})`);\n    } \n\n    if (sentence.includes('%')) {\n      const excluded = this.options.excludes ? [...prevChosen, ...chosen] : [];\n      return this.generate(sentence, excluded);\n    }\n\n    return this.reformat(sentence);\n  }\n\n  reformat(text) {\n    const lowercasedWords = this.dictionary.filter(['LOWERCASE']).map(w => w.text);\n    \n    return titleCaseWord(\n      text\n        .trim()\n        .replace(/(^| )a ([aeiou])/g, '$1an $2')\n        .replace(/s 's /g, 's\\' ')\n        .replace(/ 's /g, '\\'s ')\n        .replace(/ , /g, ', ')\n        .replace(/ are not /g, ' ain\\'t ')\n        .replace(/ is not /g, ' ain\\'t ')\n        .replace(/ will not /g, ' won\\'t ')\n        .replace(/ was not /g, ' wasn\\'t ')\n        .replace(/ were not /g, ' weren\\'t ')\n        .replace(/ do not /g, ' don\\'t ')\n        .replace(/ does not /g, ' doesn\\'t ')\n        .split(' ')\n        .map(word => lowercasedWords.includes(word) ? word : titleCaseWord(word))\n        .join(' ')\n\n      ) \n    ;\n  }\n}\n\nmodule.exports = Sentence;\n","const Dictionary = require('./dictionary');\nconst Word = require('./word');\nconst Sentence = require('./sentence');\n\nmodule.exports.Dictionary = Dictionary;\nmodule.exports.Word = Word;\nmodule.exports.Sentence = Sentence;\n","var support = {\n  searchParams: 'URLSearchParams' in self,\n  iterable: 'Symbol' in self && 'iterator' in Symbol,\n  blob:\n    'FileReader' in self &&\n    'Blob' in self &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in self,\n  arrayBuffer: 'ArrayBuffer' in self\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : 'OK'\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = self.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      resolve(new Response(body, options))\n    }\n\n    xhr.onerror = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.ontimeout = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.onabort = function() {\n      reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    xhr.open(request.method, request.url, true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr && support.blob) {\n      xhr.responseType = 'blob'\n    }\n\n    request.headers.forEach(function(value, name) {\n      xhr.setRequestHeader(name, value)\n    })\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!self.fetch) {\n  self.fetch = fetch\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import './styles.css';\nimport { Dictionary, Word, Sentence } from '../lib';\nimport postRockDictonary from '../dictionaries/postrock.txt';\nimport { fetch as fetchPolyfill } from 'whatwg-fetch'\n\nif (!window.fetch) {\n  fetchPolyfill();\n}\n\nconst loadDictionary = () => {\n  try {\n    const data = postRockDictonary;\n    const lines = data.split(/\\r?\\n/);\n    words = lines.map((line, index) => Word.parseLine(line, index)).filter(Boolean);\n  } catch (err) {\n    console.error(`Dictionary ${dictName} does not exists`);\n    process.exit(1);\n  }\n\n  const dict = new Dictionary(words);\n  const sentence = new Sentence(dict, { debug: true, excludes: false });\n\n  return sentence;\n}\n\nconst loadBackgroundImage = () => {\n  window.fetch('https://www.reddit.com/r/EarthPorn/random.json')\n    .then((response) => { return response.json(); }).then(function(redditPost) {\n      console.log(redditPost[0].data.children[0].data)\n      const redditImage = redditPost[0].data.children[0].data.url;\n      const redditPermalink = redditPost[0].data.children[0].data.permalink;\n      const redditTitle = redditPost[0].data.children[0].data.title;\n      const redditAuthor = redditPost[0].data.children[0].data.author;\n\n      const $background = document.getElementById('background');\n      $background.style.backgroundImage = `url(\"${redditImage}\")`;\n      \n\n      const $redditLink = document.getElementById('redditLink');\n      $redditLink.innerHTML = redditTitle;\n      $redditLink.href = `https://reddit.com${redditPermalink}`;\n\n      const $redditAuthor = document.getElementById('redditAuthor');\n      $redditAuthor.innerHTML = `/u/${redditAuthor}`;\n      $redditAuthor.href = `https://reddit.com/u/${redditAuthor}`;\n\n      const $redditContainer = document.getElementById('reddit');\n\n      var img = new Image();\n      img.onload = function () {\n        $background.classList.add('loaded');\n        $redditContainer.classList.add('loaded');\n      }\n      img.src = redditImage;\n    });\n}\n\nconst sentence = loadDictionary('postrock');\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  const $trackNameContainer = document.getElementById('trackName');\n\n  $trackNameContainer.innerHTML = sentence.generate();\n  loadBackgroundImage();\n});\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}