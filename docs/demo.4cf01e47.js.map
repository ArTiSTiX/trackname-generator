{"version":3,"sources":["../lib/utils.js","../lib/dictionary.js","../lib/word.js","../lib/sentence.js","../lib/index.js","../node_modules/whatwg-fetch/fetch.js","../node_modules/process/browser.js","index.js"],"names":["titleCaseWord","word","substring","toUpperCase","getTotalWeight","words","reduce","sum","weight","weightedRandom","total","selection","Math","random","id","uuid","module","exports","require","Dictionary","tags","excluded","possibles","filter","is","withoutExcluded","includes","number","length","Error","Word","text","every","tag","parts","split","line","lineNb","startsWith","replace","lineTags","lineText","weightStr","trim","Number","Sentence","dictionary","options","template","prevChosen","rets","chosen","part","choose","str","generate","push","sentence","join","debug","console","excludes","reformat","lowercasedWords","map","w","support","searchParams","self","iterable","Symbol","blob","Blob","e","formData","arrayBuffer","isDataView","obj","DataView","prototype","isPrototypeOf","viewClasses","isArrayBufferView","ArrayBuffer","isView","indexOf","Object","toString","call","normalizeName","name","String","test","TypeError","toLowerCase","normalizeValue","value","iteratorFor","items","iterator","next","shift","done","undefined","Headers","headers","forEach","append","Array","isArray","header","getOwnPropertyNames","consumed","body","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","onload","result","onerror","error","readBlobAsArrayBuffer","FileReader","promise","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","view","Uint8Array","chars","i","fromCharCode","bufferClone","slice","byteLength","set","buffer","Body","_initBody","_bodyInit","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","get","type","rejected","then","decode","json","JSON","parse","oldValue","has","hasOwnProperty","callback","thisArg","keys","values","entries","methods","normalizeMethod","method","upcased","Request","input","url","credentials","mode","signal","referrer","form","bytes","decodeURIComponent","parseHeaders","rawHeaders","key","Response","bodyInit","status","ok","statusText","clone","response","redirectStatuses","redirect","RangeError","location","DOMException","err","message","stack","create","constructor","fetch","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","getAllResponseHeaders","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","runClearTimeout","marker","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","Item","array","noop","nextTick","args","arguments","apply","title","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","window","loadDictionary","data","lines","postRockDictonary","index","parseLine","Boolean","dictName","exit","dict","loadBackgroundImage","redditPost","log","children","redditImage","redditPermalink","permalink","redditTitle","redditAuthor","author","$background","document","getElementById","style","backgroundImage","$redditLink","innerHTML","href","$redditAuthor","$redditContainer","img","Image","classList","add","src"],"mappings":"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","file":"demo.4cf01e47.js","sourceRoot":"../demo","sourcesContent":["function titleCaseWord(word) {\n  return `${word.substring(0, 1).toUpperCase()}${word.substring(1)}`;\n}\n\nfunction getTotalWeight(words) {\n  return words.reduce((sum, word) => sum + word.weight, 0.0);\n}  \n\nfunction weightedRandom(words) {\n  const total = getTotalWeight(words);\n\n  const selection = Math.random() * total;\n  let sum = 0;\n  for (const word of words) {\n    if (selection >= sum && selection < (sum + word.weight)) {\n      return word\n    }\n    sum += word.weight;\n  }\n}\n\nlet id = 0;\nfunction uuid() {\n  return id++;\n}\n\nmodule.exports.titleCaseWord = titleCaseWord;\nmodule.exports.weightedRandom = weightedRandom;\nmodule.exports.uuid = uuid;\n","const { weightedRandom } = require('./utils');\n\nclass Dictionary {\n  constructor(words) {\n    this.words = words;\n  }\n\n  filter(tags, excluded = []) {\n    const possibles = this.words.filter(word => word.is(tags));\n    const withoutExcluded = possibles.filter(word => !excluded.includes(word.number));\n\n    // Ensure exlusions does not reduce to no possibles\n    if (withoutExcluded.length) return withoutExcluded;\n    \n    return possibles;\n  }\n\n  choose(tags, excluded = []) {\n    const possibles = this.filter(tags, excluded);\n    if (!possibles.length) {\n      throw new Error(`cannot find any words for ${tags}`);\n    }\n\n    return weightedRandom(possibles);\n  }\n}\n\nmodule.exports = Dictionary;\n","const { uuid } = require('./utils');\n\nclass Word {\n  constructor(text, tags, weight, number) {\n    this.text = text || '';\n    this.tags = tags;\n    this.weight = weight || 1;\n    this.number = number || uuid();\n  }\n\n  static parseLine(line, lineNb) {\n    if (!line || line.startsWith('#')) return null;\n\n    const [lineTags, lineText, weightStr] = line.replace('\\\\,','%COMMA').split(',');\n\n    const tags = lineTags.trim().split('-');\n    const text = lineText.trim().replace('%COMMA', ',')\n    const weight = Number(weightStr) || 1;\n    const number = lineNb;\n\n    return new Word(text, tags, weight, number);\n  }\n\n  is(tags) {\n    return tags.every(tag => this.tags.includes(tag));\n  }\n\n  generate(tags) {\n    const parts = this.text.split(':');\n\n    if (tags.includes('NOU')) {\n      if (tags.includes('SNG')) {\n        return parts[0];\n      }\n      if (tags.includes('PLU')) {\n        return parts[1];\n      }\n      return parts[0];\n    }\n\n    if (tags.includes('VRB')) {\n      if (tags.includes('SNG')) {\n        return parts[1];\n      }\n      if (tags.includes('PST')) {\n        return parts[2];\n      }\n      if (tags.includes('PSP')) {\n        return parts[3];\n      }\n      if (tags.includes('ING')) {\n        return parts[4];\n      }\n\n      return parts[0];\n    }\n\n    return this.text;\n  }\n}\n\nmodule.exports = Word;\n","const { titleCaseWord } = require('./utils');\n\nclass Sentence {\n  constructor(dictionary, options = {}) {\n    this.dictionary = dictionary;\n    this.options = options || {};\n  }\n\n  generate(template = '%TPL', prevChosen = []) {\n    const parts = template.split(' ');\n    \n    const rets = [];\n    const chosen = [];\n    \n    for (const part of parts) {\n      if (part.startsWith('%')) {\n        const tags = part.substring(1).split('-');\n        const word = this.dictionary.choose(tags, [...prevChosen, ...chosen]);\n        const str = word.generate(tags);\n\n        chosen.push(word.number);\n        rets.push(str);\n      } else {\n        rets.push(part);\n      }\n    }\n\n    const sentence = rets.join(' ').replace(/\\s+/g, ' ');\n\n    if (this.options.debug) {\n      console.debug(template, '\\n  ->', sentence, `(chosen: ${chosen.join(',')})`);\n    } \n\n    if (sentence.includes('%')) {\n      const excluded = this.options.excludes ? [...prevChosen, ...chosen] : [];\n      return this.generate(sentence, excluded);\n    }\n\n    return this.reformat(sentence);\n  }\n\n  reformat(text) {\n    const lowercasedWords = this.dictionary.filter(['LOWERCASE']).map(w => w.text);\n    \n    return titleCaseWord(\n      text\n        .trim()\n        .replace(/(^| )a ([aeiou])/g, '$1an $2')\n        .replace(/s 's /g, 's\\' ')\n        .replace(/ 's /g, '\\'s ')\n        .replace(/ , /g, ', ')\n        .replace(/ are not /g, ' ain\\'t ')\n        .replace(/ is not /g, ' ain\\'t ')\n        .replace(/ will not /g, ' won\\'t ')\n        .replace(/ was not /g, ' wasn\\'t ')\n        .replace(/ were not /g, ' weren\\'t ')\n        .replace(/ do not /g, ' don\\'t ')\n        .replace(/ does not /g, ' doesn\\'t ')\n        .split(' ')\n        .map(word => lowercasedWords.includes(word) ? word : titleCaseWord(word))\n        .join(' ')\n\n      ) \n    ;\n  }\n}\n\nmodule.exports = Sentence;\n","const Dictionary = require('./dictionary');\nconst Word = require('./word');\nconst Sentence = require('./sentence');\n\nmodule.exports.Dictionary = Dictionary;\nmodule.exports.Word = Word;\nmodule.exports.Sentence = Sentence;\n","var support = {\n  searchParams: 'URLSearchParams' in self,\n  iterable: 'Symbol' in self && 'iterator' in Symbol,\n  blob:\n    'FileReader' in self &&\n    'Blob' in self &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in self,\n  arrayBuffer: 'ArrayBuffer' in self\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : 'OK'\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = self.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      resolve(new Response(body, options))\n    }\n\n    xhr.onerror = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.ontimeout = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.onabort = function() {\n      reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    xhr.open(request.method, request.url, true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr && support.blob) {\n      xhr.responseType = 'blob'\n    }\n\n    request.headers.forEach(function(value, name) {\n      xhr.setRequestHeader(name, value)\n    })\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!self.fetch) {\n  self.fetch = fetch\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import './styles.css';\nimport { Dictionary, Word, Sentence } from '../lib';\nimport postRockDictonary from '../dictionaries/postrock.txt';\nimport { fetch as fetchPolyfill } from 'whatwg-fetch'\n\nif (!window.fetch) {\n  fetchPolyfill();\n}\n\nconst loadDictionary = () => {\n  try {\n    const data = postRockDictonary;\n    const lines = data.split(/\\r?\\n/);\n    words = lines.map((line, index) => Word.parseLine(line, index)).filter(Boolean);\n  } catch (err) {\n    console.error(`Dictionary ${dictName} does not exists`);\n    process.exit(1);\n  }\n\n  const dict = new Dictionary(words);\n  const sentence = new Sentence(dict, { debug: true, excludes: false });\n\n  return sentence;\n}\n\nconst loadBackgroundImage = () => {\n  window.fetch('https://www.reddit.com/r/EarthPorn/random.json')\n    .then((response) => { return response.json(); }).then(function(redditPost) {\n      console.log(redditPost[0].data.children[0].data)\n      const redditImage = redditPost[0].data.children[0].data.url;\n      const redditPermalink = redditPost[0].data.children[0].data.permalink;\n      const redditTitle = redditPost[0].data.children[0].data.title;\n      const redditAuthor = redditPost[0].data.children[0].data.author;\n\n      const $background = document.getElementById('background');\n      $background.style.backgroundImage = `url(\"${redditImage}\")`;\n      \n\n      const $redditLink = document.getElementById('redditLink');\n      $redditLink.innerHTML = redditTitle;\n      $redditLink.href = `https://reddit.com${redditPermalink}`;\n\n      const $redditAuthor = document.getElementById('redditAuthor');\n      $redditAuthor.innerHTML = `/u/${redditAuthor}`;\n      $redditAuthor.href = `https://reddit.com/u/${redditAuthor}`;\n\n      const $redditContainer = document.getElementById('reddit');\n\n      var img = new Image();\n      img.onload = function () {\n        $background.classList.add('loaded');\n        $redditContainer.classList.add('loaded');\n      }\n      img.src = redditImage;\n    });\n}\n\nconst sentence = loadDictionary('postrock');\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  const $trackNameContainer = document.getElementById('trackName');\n\n  $trackNameContainer.innerHTML = sentence.generate();\n  loadBackgroundImage();\n});\n"]}